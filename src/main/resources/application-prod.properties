# ===============================================
# 1. CONFIGURACIÓN DEL SERVIDOR WEB (CRÍTICO PARA RAILWAY)
# ===============================================
# Puerto dinámico: usa el puerto asignado por Railway ($PORT)
server.port=${PORT:8080}
# CRÍTICO: Escucha en todas las interfaces para que Railway pueda conectarse
server.address=0.0.0.0


# ===============================================
# 2. CONFIGURACIÓN DE LA BASE DE DATOS (MYSQL)
# ===============================================
# ATENCIÓN: La variable MYSQL_URL de Railway comienza con 'mysql://...'
# Por lo tanto, le anteponemos 'jdbc:' para formar una URL JDBC válida.
spring.datasource.url=jdbc:${MYSQL_URL}
spring.datasource.username=${MYSQLUSER}
spring.datasource.password=${MYSQL_ROOT_PASSWORD}
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver


# ===============================================
# 3. CONFIGURACIÓN DE JPA / HIBERNATE
# ===============================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
spring.jpa.show-sql=true
spring.jpa.open-in-view=false

# Se pueden eliminar las siguientes dos líneas si estás usando Spring Boot 3+
# y no tienes problemas. Hibernate 6+ detecta el Dialecto automáticamente.
# HHH90000025: MySQL8Dialect does not need to be specified explicitly
# spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
# spring.jpa.hibernate.ddl-auto=update


# ===============================================
# 4. CONFIGURACIÓN DE LOGGING
# ===============================================
# Logs para ver la conexión y el DDL
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.tool.hbm2ddl=DEBUG
logging.level.com.zaxxer.hikari=DEBUG